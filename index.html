<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Amigo Bicho</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        padding: 20px;
    }
    .caixa {
        background: white;
        padding: 20px;
        border-radius: 10px;
        max-width: 350px;
        margin: auto;
        box-shadow: 0 0 10px #aaa;
    }
    select, button {
        width: 100%;
        padding: 12px;
        font-size: 18px;
        margin-top: 10px;
    }
    #resultado {
        margin-top: 20px;
        font-size: 22px;
        font-weight: bold;
    }
</style>
</head>
<body>

<div class="caixa">
    <h2>Quem é você?</h2>

    <select id="nomeSelect">
        <option value="">Selecione...</option>
    </select>

    <button onclick="gerarBicho()">Quero meu bicho</button>

    <p id="resultado"></p>
</div>

<script>
// Dicionário (objeto) mapeando cada nome ao seu bicho
const nomesParaBichos = {
    "Caio": "Anta",
    "Lorraine": "Tilápia",
    "Iza": "Rola",
    "Dione": "Piranha",
    "Gabi": "Jumento",
    "Richard": "Lacraia",
    "Letícia": "Veado",
    "Ítalo": "Muriçoca",
    "Emille": "Periquito"
};

// Preencher select com nomes
const select = document.getElementById("nomeSelect");
Object.keys(nomesParaBichos).forEach(nome => {
    const op = document.createElement("option");
    op.value = nome;
    op.textContent = nome;
    select.appendChild(op);
});

// Verifica se já gerou antes neste dispositivo
const nomeTravado = localStorage.getItem("nome_escolhido");
const bichoTravado = localStorage.getItem("bicho_escolhido");

// Se já existe, travar select e mostrar resultado
if (nomeTravado && bichoTravado) {
    select.innerHTML = `<option value="${nomeTravado}">${nomeTravado}</option>`;
    select.disabled = true;
    document.getElementById("resultado").textContent =
        `Seu bicho é: ${bichoTravado}`;
}

// Função para gerar bicho
function gerarBicho() {
    const nome = select.value;
    const resultado = document.getElementById("resultado");

    if (!nome) {
        resultado.textContent = "Selecione seu nome!";
        return;
    }

    // Se já gerou antes no dispositivo, só mostrar
    if (nomeTravado && bichoTravado) {
        resultado.textContent = `Seu bicho é: ${bichoTravado}`;
        return;
    }

    // Buscar o bicho do dicionário
    const bicho = nomesParaBichos[nome];

    // Salvar no dispositivo
    localStorage.setItem("nome_escolhido", nome);
    localStorage.setItem("bicho_escolhido", bicho);

    // Travar select
    select.innerHTML = `<option value="${nome}">${nome}</option>`;
    select.disabled = true;

    // Mostrar resultado
    resultado.textContent = `Seu bicho é: ${bicho}`;
}
</script>

</body>
</html>
